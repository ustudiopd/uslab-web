# ë¸”ë¡œê·¸ ì—ë””í„° êµ¬í˜„ ê²€í†  ë³´ê³ ì„œ (ìµœì¢…)

**ê²€í†  ì¼ì**: 2025-12-13  
**ê²€í†  ëŒ€ìƒ**: `ë¸”ë¡œê·¸ì—ë””í„°_êµ¬í˜„.md`  
**í˜„ì¬ êµ¬í˜„ ìƒíƒœ**: ë¶€ë¶„ êµ¬í˜„ ì™„ë£Œ, í•µì‹¬ ê¸°ëŠ¥ ëˆ„ë½ í™•ì¸

---

## ğŸ“‹ ìš”ì•½

`ë¸”ë¡œê·¸ì—ë””í„°_êµ¬í˜„.md`ì— ëª…ì‹œëœ 5ê°€ì§€ í•µì‹¬ ìˆ˜ì • ì‚¬í•­ ì¤‘ **3ê°€ì§€ê°€ ì•„ì§ ë¯¸êµ¬í˜„** ìƒíƒœì…ë‹ˆë‹¤. íŠ¹íˆ ìŠ¬ë˜ì‹œ(`/`) ë©”ë‰´ê°€ ì‘ë™í•˜ì§€ ì•ŠëŠ” **1ìˆœìœ„ ì›ì¸**ì´ í•´ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

### âœ… ì™„ë£Œëœ í•­ëª©
- [x] EditorCommand UI êµ¬ì¡° (BlogEditor.tsxì— êµ¬í˜„ë¨)
- [x] BubbleMenu êµ¬í˜„ (BubbleMenu.tsx ìƒì„±ë¨)
- [x] ê¸°ë³¸ í™•ì¥ ì„¤ì • (StarterKit, Markdown ë“±)

### âŒ ë¯¸ì™„ë£Œ í•­ëª© (ìš°ì„ ìˆœìœ„ ìˆœ)
1. **ìŠ¬ë˜ì‹œ ë©”ë‰´ ë Œë”ëŸ¬ ì—°ê²°** (`renderItems` ëˆ„ë½) - **1ìˆœìœ„**
2. **í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜** (`handleCommandNavigation` ì£¼ì„ ì²˜ë¦¬ë¨) - **2ìˆœìœ„**
3. **ë§ˆí¬ë‹¤ìš´ ë¶™ì—¬ë„£ê¸° ë³€í™˜** (`transformPastedText` ë¯¸ì„¤ì •) - **3ìˆœìœ„**

---

## ğŸ” ìƒì„¸ ê²€í† 

### 1. ìŠ¬ë˜ì‹œ(`/`) ë©”ë‰´ê°€ ì•ˆ ëœ¨ëŠ” ë¬¸ì œ âš ï¸ **1ìˆœìœ„**

#### í˜„ì¬ ìƒíƒœ
**íŒŒì¼**: `components/editor/extensions.tsx`

```typescript
// âŒ í˜„ì¬ ì½”ë“œ (ë¬¸ì œ ìˆìŒ)
import { Command, createSuggestionItems } from 'novel';

export const slashCommand = Command.configure({
  suggestion: {
    items: () => suggestionItems,
    // render: renderItems, â† ì´ê²Œ ë¹ ì ¸ìˆìŒ!
  },
});
```

#### ë¬¸ì œì 
- `renderItems` importê°€ ì—†ìŒ
- `slashCommand`ì— `render: renderItems` ì„¤ì •ì´ ëˆ„ë½ë¨
- Novel ê³µì‹ ë¬¸ì„œì— ë”°ë¥´ë©´ **ë°˜ë“œì‹œ** `render` ì†ì„±ì´ í•„ìš”í•¨

#### ìˆ˜ì • í•„ìš” ì‚¬í•­
```typescript
// âœ… ìˆ˜ì • í›„ ì½”ë“œ
import { Command, createSuggestionItems, renderItems } from 'novel/extensions';

export const slashCommand = Command.configure({
  suggestion: {
    items: () => suggestionItems,
    render: renderItems, // â† ì´ ì¤„ ì¶”ê°€ í•„ìˆ˜!
  },
});
```

#### ì°¸ê³ 
- Novel ë¬¸ì„œ: https://novel.sh/docs/guides/tailwind/slash-command
- `renderItems`ëŠ” `novel/extensions`ì—ì„œ import ê°€ëŠ¥ (í˜„ì¬ëŠ” `novel`ì—ì„œë§Œ import ì¤‘)

---

### 2. í‚¤ë³´ë“œ í™”ì‚´í‘œ/ì—”í„°ë¡œ ì»¤ë§¨ë“œ ë©”ë‰´ ì´ë™ ì•ˆ ë˜ëŠ” ë¬¸ì œ âš ï¸ **2ìˆœìœ„**

#### í˜„ì¬ ìƒíƒœ
**íŒŒì¼**: `components/editor/BlogEditor.tsx`

```typescript
// âŒ í˜„ì¬ ì½”ë“œ (ì£¼ì„ ì²˜ë¦¬ë¨)
// import { handleCommandNavigation } from 'novel/extensions';

editorProps={{
  // handleDOMEvents: {
  //   keydown: (_view, event) => handleCommandNavigation(event),
  // },
  attributes: { /* ... */ },
}}
```

#### ë¬¸ì œì 
- `handleCommandNavigation` importê°€ ì£¼ì„ ì²˜ë¦¬ë¨
- `handleDOMEvents.keydown` í•¸ë“¤ëŸ¬ê°€ ì£¼ì„ ì²˜ë¦¬ë¨
- ê²°ê³¼: `/` ë©”ë‰´ì—ì„œ â†‘/â†“ í™”ì‚´í‘œì™€ Enter í‚¤ê°€ ì‘ë™í•˜ì§€ ì•ŠìŒ

#### ìˆ˜ì • í•„ìš” ì‚¬í•­
```typescript
// âœ… ìˆ˜ì • í›„ ì½”ë“œ
import { handleCommandNavigation } from 'novel/extensions';

editorProps={{
  handleDOMEvents: {
    keydown: (_view, event) => handleCommandNavigation(event),
  },
  attributes: { /* ... */ },
}}
```

#### ì°¸ê³ 
- Novel ë¬¸ì„œ: https://novel.sh/docs/guides/tailwind/setup
- ì´ ê¸°ëŠ¥ì´ ì—†ìœ¼ë©´ "ë˜ê¸´ í•˜ëŠ”ë° ë…¸ì…˜ê°™ì§€ ì•ŠìŒ" ìƒíƒœ

---

### 3. ë§ˆí¬ë‹¤ìš´ ë¶™ì—¬ë„£ê¸° ì¦‰ì‹œ ë³€í™˜ ì•ˆ ë˜ëŠ” ë¬¸ì œ âš ï¸ **3ìˆœìœ„**

#### í˜„ì¬ ìƒíƒœ
**íŒŒì¼**: `components/editor/BlogEditor.tsx`

```typescript
// âŒ í˜„ì¬ ì½”ë“œ
import { Markdown } from '@tiptap/markdown';

const extensions = useMemo(() => [
  // ...
  Markdown as any, // â† configure ì˜µì…˜ì´ ì—†ìŒ
  // ...
], [imageExtension]);
```

#### ë¬¸ì œì 
- `Markdown.configure()` ì˜µì…˜ì´ ì„¤ì •ë˜ì§€ ì•ŠìŒ
- `transformPastedText: true` ì˜µì…˜ì´ ì—†ì–´ì„œ ë¶™ì—¬ë„£ì€ ë§ˆí¬ë‹¤ìš´ì´ í…ìŠ¤íŠ¸ë¡œë§Œ ë“¤ì–´ê°
- ì˜ˆ: ChatGPTì—ì„œ ë³µì‚¬í•œ `## ì œëª©`ì´ ë¶™ì—¬ë„£ê¸° ì‹œ Heading 2ë¡œ ë³€í™˜ë˜ì§€ ì•ŠìŒ

#### ìˆ˜ì • í•„ìš” ì‚¬í•­

**ì˜µì…˜ A**: `@tiptap/markdown`ì´ `transformPastedText`ë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš°
```typescript
// âœ… ìˆ˜ì • í›„ ì½”ë“œ
import { Markdown } from '@tiptap/markdown';

const extensions = useMemo(() => [
  // ...
  Markdown.configure({
    transformPastedText: true, // â† ë¶™ì—¬ë„£ê¸° ë§ˆí¬ë‹¤ìš´ ë³€í™˜
  }),
  // ...
], [imageExtension]);
```

**ì˜µì…˜ B**: `@tiptap/markdown`ì´ í•´ë‹¹ ì˜µì…˜ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°
- `tiptap-markdown` (aguingand) íŒ¨í‚¤ì§€ë¡œ êµì²´ í•„ìš”
- ë˜ëŠ” ì»¤ìŠ¤í…€ `handlePaste` ë¡œì§ êµ¬í˜„ í•„ìš”

#### í™•ì¸ í•„ìš”
í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ íŒ¨í‚¤ì§€ê°€ `@tiptap/markdown`ì¸ì§€ `tiptap-markdown`ì¸ì§€ í™•ì¸ í•„ìš”:
- `package.json`ì—ì„œ í™•ì¸
- `@tiptap/markdown`ì€ ê³µì‹ íŒ¨í‚¤ì§€ (ì˜µì…˜ ì œí•œì )
- `tiptap-markdown`ì€ aguingandì˜ ì»¤ë®¤ë‹ˆí‹° íŒ¨í‚¤ì§€ (ë” ë§ì€ ì˜µì…˜)

---

### 4. EditorCommand DOM êµ¬ì¡° âœ… **ì™„ë£Œ**

#### í˜„ì¬ ìƒíƒœ
**íŒŒì¼**: `components/editor/BlogEditor.tsx`

```typescript
// âœ… ì˜¬ë°”ë¥¸ êµ¬ì¡°
<EditorRoot>
  <EditorContent>
    <BubbleMenu />
    <EditorCommand>
      <EditorCommandList>
        {suggestionItems.map(...)}
      </EditorCommandList>
    </EditorCommand>
  </EditorContent>
</EditorRoot>
```

#### í‰ê°€
- âœ… `EditorRoot` > `EditorContent` > `EditorCommand` êµ¬ì¡°ê°€ ì˜¬ë°”ë¦„
- âœ… `BubbleMenu`ë„ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ìˆìŒ
- âš ï¸ í•˜ì§€ë§Œ ìœ„ 1ë²ˆ ë¬¸ì œ(`renderItems`)ê°€ í•´ê²°ë˜ì§€ ì•Šìœ¼ë©´ DOMì— ë Œë”ë§ë˜ì§€ ì•ŠìŒ

---

### 5. BubbleMenu êµ¬í˜„ âœ… **ì™„ë£Œ**

#### í˜„ì¬ ìƒíƒœ
**íŒŒì¼**: `components/editor/BubbleMenu.tsx`

```typescript
// âœ… ì˜¬ë°”ë¥¸ êµ¬í˜„
export function BubbleMenu() {
  const { editor } = useEditor();
  // ...
  return (
    <EditorBubble>
      <EditorBubbleItem onSelect={...}> {/* Bold, Italic ë“± */}
    </EditorBubble>
  );
}
```

#### í‰ê°€
- âœ… `useEditor` í›… ì‚¬ìš©
- âœ… `EditorBubble`, `EditorBubbleItem` ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©
- âœ… í…ìŠ¤íŠ¸ ì„ íƒ ì‹œ í¬ë§·íŒ… ë©”ë‰´ í‘œì‹œë¨

---

## ğŸ¯ ìš°ì„ ìˆœìœ„ë³„ ìˆ˜ì • ê³„íš

### Phase 1: ìŠ¬ë˜ì‹œ ë©”ë‰´ ì‘ë™ (ìµœìš°ì„ )
1. `extensions.tsx`ì—ì„œ `renderItems` import ì¶”ê°€
2. `slashCommand`ì— `render: renderItems` ì¶”ê°€
3. **ì™„ë£Œ ê¸°ì¤€**: `/` ì…ë ¥ ì‹œ ì»¤ë§¨ë“œ íŒ”ë ˆíŠ¸ê°€ í‘œì‹œë¨

### Phase 2: í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
1. `BlogEditor.tsx`ì—ì„œ `handleCommandNavigation` import ì£¼ì„ í•´ì œ
2. `handleDOMEvents.keydown` í•¸ë“¤ëŸ¬ ì£¼ì„ í•´ì œ
3. **ì™„ë£Œ ê¸°ì¤€**: `/` ë©”ë‰´ì—ì„œ â†‘/â†“ í™”ì‚´í‘œì™€ Enterë¡œ ì„ íƒ ê°€ëŠ¥

### Phase 3: ë§ˆí¬ë‹¤ìš´ ë¶™ì—¬ë„£ê¸°
1. í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ë§ˆí¬ë‹¤ìš´ íŒ¨í‚¤ì§€ í™•ì¸ (`package.json`)
2. `Markdown.configure({ transformPastedText: true })` ì¶”ê°€
3. ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ íŒ¨í‚¤ì§€ êµì²´ ë˜ëŠ” ì»¤ìŠ¤í…€ ë¡œì§ êµ¬í˜„
4. **ì™„ë£Œ ê¸°ì¤€**: ChatGPTì—ì„œ ë³µì‚¬í•œ `## ì œëª©`ì´ Heading 2ë¡œ ë³€í™˜ë¨

---

## ğŸ“ ì¶”ê°€ í™•ì¸ ì‚¬í•­

### 1. Import ê²½ë¡œ í™•ì¸
í˜„ì¬ `extensions.tsx`ì—ì„œ:
```typescript
import { Command, createSuggestionItems } from 'novel';
```

ë¬¸ì„œì—ì„œëŠ”:
```typescript
import { Command, renderItems, createSuggestionItems } from 'novel/extensions';
```

**í™•ì¸ í•„ìš”**: `novel`ì—ì„œ `renderItems`ë¥¼ importí•  ìˆ˜ ìˆëŠ”ì§€, ì•„ë‹ˆë©´ `novel/extensions`ì—ì„œë§Œ ê°€ëŠ¥í•œì§€

### 2. íŒ¨í‚¤ì§€ ë²„ì „ í™•ì¸
- `novel` íŒ¨í‚¤ì§€ ë²„ì „ í™•ì¸ í•„ìš”
- ìµœì‹  ë²„ì „ì—ì„œëŠ” import ê²½ë¡œê°€ ë³€ê²½ë˜ì—ˆì„ ìˆ˜ ìˆìŒ

### 3. íƒ€ì… ì—ëŸ¬ ê°€ëŠ¥ì„±
- `renderItems` ì¶”ê°€ ì‹œ TypeScript íƒ€ì… ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥
- í•„ìš”ì‹œ íƒ€ì… ë‹¨ì–¸(`as any`) ì‚¬ìš© ê³ ë ¤

---

## âœ… ìµœì¢… ê¶Œì¥ ì‚¬í•­

1. **ì¦‰ì‹œ ìˆ˜ì •** (Phase 1): `renderItems` ì¶”ê°€
   - ì´ê²Œ í•´ê²°ë˜ë©´ `/` ë©”ë‰´ê°€ ì‘ë™í•¨
   - ê°€ì¥ ë†’ì€ ìš°ì„ ìˆœìœ„

2. **ë‹¤ìŒ ìˆ˜ì •** (Phase 2): `handleCommandNavigation` í™œì„±í™”
   - ë…¸ì…˜ ê°™ì€ UXë¥¼ ìœ„í•´ í•„ìˆ˜

3. **ë§ˆì§€ë§‰ ìˆ˜ì •** (Phase 3): ë§ˆí¬ë‹¤ìš´ ë¶™ì—¬ë„£ê¸°
   - ì‚¬ìš©ì í¸ì˜ì„± í–¥ìƒ

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [Novel.sh - Slash Command](https://novel.sh/docs/guides/tailwind/slash-command)
- [Novel.sh - Setup](https://novel.sh/docs/guides/tailwind/setup)
- [tiptap-markdown (aguingand)](https://github.com/aguingand/tiptap-markdown)
- [Tiptap - Markdown Examples](https://tiptap.dev/docs/editor/markdown/examples)

---

**ê²€í†  ì™„ë£Œ**: 2025-12-13
